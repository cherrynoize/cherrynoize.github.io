{"ast":null,"code":"import _slicedToArray from\"/home/noize/hacking/projects/cherrynoize.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var blogEntries={};blogEntries['main']=toMap(require.context('./blog/main/entries/',false,/\\.(jsx?)$/));/* Returns map from context */function toMap(ctx){return ctx.keys().map(ctx);}/* Returns blog post */function Post(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Temporary post\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Hi, this is a temporary post.\"})]});}/* Returns blog entry */function Entry(props){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),isVisible=_React$useState2[0],setVisible=_React$useState2[1];var domRef=React.useRef();React.useEffect(function(){var observer=new IntersectionObserver(function(entries){entries.forEach(function(entry){return setVisible(entry.isIntersecting);});});var curDom=domRef.current;observer.observe(curDom);return function(){return observer.unobserve(curDom);};},[]);/*\n   * BUGGY PART !!\n   *     V\n\n  let Post;\n\n  (async () => {\n   Post = await import(src);\n  })();\n\n   *\n   *     /\\\n   */return/*#__PURE__*/_jsx(\"div\",{id:props.key,className:'entry fade-in '+(isVisible?'is-visible':''),ref:domRef,children:/*#__PURE__*/_jsx(Post,{})});}/* Returns collection of posts */export default function Blog(props){var entries=blogEntries[props.dir];return entries.map(function(entry,index){return/*#__PURE__*/_jsx(Entry,{src:entry},index);});}","map":{"version":3,"names":["React","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","blogEntries","toMap","require","context","ctx","keys","map","Post","children","Entry","props","_React$useState","useState","_React$useState2","_slicedToArray","isVisible","setVisible","domRef","useRef","useEffect","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","curDom","current","observe","unobserve","id","key","className","ref","Blog","dir","index","src"],"sources":["/home/noize/hacking/projects/cherrynoize.github.io/src/components/Blog.jsx"],"sourcesContent":["import React from 'react';\n\nlet blogEntries = {}\nblogEntries['main'] = toMap(require.context('./blog/main/entries/', false, /\\.(jsx?)$/));\n\n/* Returns map from context */\nfunction toMap(ctx) {\n  return ctx.keys().map(ctx);\n}\n\n/* Returns blog post */\nfunction Post() {\n  return (\n    <>\n      <h3>Temporary post</h3>\n      <p>\n        Hi, this is a temporary post.\n      </p>\n    </>\n  )\n}\n\n/* Returns blog entry */\nfunction Entry(props) {\n  const [isVisible, setVisible] = React.useState(true);\n  const domRef = React.useRef();\n\n  React.useEffect(() => {\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => setVisible(entry.isIntersecting));\n    });\n\n    const curDom = domRef.current;\n    observer.observe(curDom);\n    return () => observer.unobserve(curDom);\n  }, []);\n\n  /*\n   * BUGGY PART !!\n   *     V\n\n  let Post;\n\n  (async () => {\n   Post = await import(src);\n  })();\n\n   *\n   *     /\\\n   */\n\n  return (\n    <div\n      id={props.key}\n      className={'entry fade-in ' + (isVisible ? 'is-visible' : '')}\n      ref={domRef}\n    >\n      <Post />\n    </div>\n  );\n}\n\n/* Returns collection of posts */\nexport default function Blog(props) {\n  const entries = blogEntries[props.dir];\n\n  return (\n    entries.map((entry, index) => (\n      <Entry key={index} src={entry} />\n    ))\n  )\n}\n"],"mappings":"wIAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,GAAI,CAAAC,WAAW,CAAG,CAAC,CAAC,CACpBA,WAAW,CAAC,MAAM,CAAC,CAAGC,KAAK,CAACC,OAAO,CAACC,OAAO,CAAC,sBAAsB,CAAE,KAAK,CAAE,WAAW,CAAC,CAAC,CAExF,8BACA,QAAS,CAAAF,KAAKA,CAACG,GAAG,CAAE,CAClB,MAAO,CAAAA,GAAG,CAACC,IAAI,CAAC,CAAC,CAACC,GAAG,CAACF,GAAG,CAAC,CAC5B,CAEA,uBACA,QAAS,CAAAG,IAAIA,CAAA,CAAG,CACd,mBACER,KAAA,CAAAF,SAAA,EAAAW,QAAA,eACEb,IAAA,OAAAa,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBb,IAAA,MAAAa,QAAA,CAAG,+BAEH,CAAG,CAAC,EACJ,CAAC,CAEP,CAEA,wBACA,QAAS,CAAAC,KAAKA,CAACC,KAAK,CAAE,CACpB,IAAAC,eAAA,CAAgClB,KAAK,CAACmB,QAAQ,CAAC,IAAI,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAA7CI,SAAS,CAAAF,gBAAA,IAAEG,UAAU,CAAAH,gBAAA,IAC5B,GAAM,CAAAI,MAAM,CAAGxB,KAAK,CAACyB,MAAM,CAAC,CAAC,CAE7BzB,KAAK,CAAC0B,SAAS,CAAC,UAAM,CACpB,GAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,oBAAoB,CAAC,SAAAC,OAAO,CAAI,CACnDA,OAAO,CAACC,OAAO,CAAC,SAAAC,KAAK,QAAI,CAAAR,UAAU,CAACQ,KAAK,CAACC,cAAc,CAAC,GAAC,CAC5D,CAAC,CAAC,CAEF,GAAM,CAAAC,MAAM,CAAGT,MAAM,CAACU,OAAO,CAC7BP,QAAQ,CAACQ,OAAO,CAACF,MAAM,CAAC,CACxB,MAAO,kBAAM,CAAAN,QAAQ,CAACS,SAAS,CAACH,MAAM,CAAC,GACzC,CAAC,CAAE,EAAE,CAAC,CAEN;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAEE,mBACE/B,IAAA,QACEmC,EAAE,CAAEpB,KAAK,CAACqB,GAAI,CACdC,SAAS,CAAE,gBAAgB,EAAIjB,SAAS,CAAG,YAAY,CAAG,EAAE,CAAE,CAC9DkB,GAAG,CAAEhB,MAAO,CAAAT,QAAA,cAEZb,IAAA,CAACY,IAAI,GAAE,CAAC,CACL,CAAC,CAEV,CAEA,iCACA,cAAe,SAAS,CAAA2B,IAAIA,CAACxB,KAAK,CAAE,CAClC,GAAM,CAAAY,OAAO,CAAGtB,WAAW,CAACU,KAAK,CAACyB,GAAG,CAAC,CAEtC,MACE,CAAAb,OAAO,CAAChB,GAAG,CAAC,SAACkB,KAAK,CAAEY,KAAK,qBACvBzC,IAAA,CAACc,KAAK,EAAa4B,GAAG,CAAEb,KAAM,EAAlBY,KAAoB,CAAC,EAClC,CAAC,CAEN"},"metadata":{},"sourceType":"module","externalDependencies":[]}