{"ast":null,"code":"import _slicedToArray from\"/home/noize/hacking/projects/cherrynoize.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var galleryItems={};galleryItems['cyber']=toMap(require.context('../../public/img/gallery/cyber/',false,/\\.(png|jpe?g|webp|gif|tiff)$/));galleryItems['dreams']=toMap(require.context('../../public/img/gallery/dreams/',false,/\\.(png|jpe?g|webp|gif|tiff)$/));galleryItems['glitch']=toMap(require.context('../../public/img/gallery/glitch/',false,/\\.(png|jpe?g|webp|gif|tiff)$/));galleryItems['misc']=toMap(require.context('../../public/img/gallery/misc/',false,/\\.(png|jpe?g|webp|gif|tiff)$/));/* Returns map from context */export function toMap(ctx){return ctx.keys().map(ctx);}/* Returns gallery item */export function Item(props){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),isVisible=_React$useState2[0],setVisible=_React$useState2[1];var domRef=React.useRef();React.useEffect(function(){var observer=new IntersectionObserver(function(entries){entries.forEach(function(entry){return setVisible(entry.isIntersecting);});});var curDom=domRef.current;observer.observe(curDom);return function(){return observer.unobserve(curDom);};},[]);return/*#__PURE__*/_jsx(\"div\",{className:'item fade-in '+(isVisible?'is-visible':''),ref:domRef,children:/*#__PURE__*/_jsx(\"img\",{alt:props.key,src:props.src},props.key)});}/* Returns node containing images */export default function Gallery(props){var images=galleryItems[props.dir];return/*#__PURE__*/_jsx(\"div\",{id:\"gallery\",children:images.map(function(image,index){return/*#__PURE__*/_jsx(Item,{src:image},index);})});}","map":{"version":3,"names":["React","jsx","_jsx","galleryItems","toMap","require","context","ctx","keys","map","Item","props","_React$useState","useState","_React$useState2","_slicedToArray","isVisible","setVisible","domRef","useRef","useEffect","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","curDom","current","observe","unobserve","className","ref","children","alt","key","src","Gallery","images","dir","id","image","index"],"sources":["/home/noize/hacking/projects/cherrynoize.github.io/src/components/Gallery.jsx"],"sourcesContent":["import React from 'react';\n\nlet galleryItems = {}\ngalleryItems['cyber'] = toMap(require.context('../../public/img/gallery/cyber/', false, /\\.(png|jpe?g|webp|gif|tiff)$/));\ngalleryItems['dreams'] = toMap(require.context('../../public/img/gallery/dreams/', false, /\\.(png|jpe?g|webp|gif|tiff)$/));\ngalleryItems['glitch'] = toMap(require.context('../../public/img/gallery/glitch/', false, /\\.(png|jpe?g|webp|gif|tiff)$/));\ngalleryItems['misc'] = toMap(require.context('../../public/img/gallery/misc/', false, /\\.(png|jpe?g|webp|gif|tiff)$/));\n\n/* Returns map from context */\nexport function toMap(ctx) {\n  return ctx.keys().map(ctx);\n}\n\n/* Returns gallery item */\nexport function Item(props) {\n  const [isVisible, setVisible] = React.useState(true);\n  const domRef = React.useRef();\n\n  React.useEffect(() => {\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => setVisible(entry.isIntersecting));\n    });\n\n    const curDom = domRef.current;\n    observer.observe(curDom);\n    return () => observer.unobserve(curDom);\n  }, []);\n\n  return (\n    <div\n      className={'item fade-in ' + (isVisible ? 'is-visible' : '')}\n      ref={domRef}\n    >\n      <img key={props.key} alt={props.key} src={props.src} />\n    </div>\n  );\n}\n\n/* Returns node containing images */\nexport default function Gallery(props) {\n  const images = galleryItems[props.dir];\n\n  return(\n    <div id=\"gallery\">\n      {\n        images.map((image, index) => (\n          <Item key={index} src={image} />\n        ))\n      }\n    </div>\n  )\n}\n"],"mappings":"wIAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,GAAI,CAAAC,YAAY,CAAG,CAAC,CAAC,CACrBA,YAAY,CAAC,OAAO,CAAC,CAAGC,KAAK,CAACC,OAAO,CAACC,OAAO,CAAC,iCAAiC,CAAE,KAAK,CAAE,8BAA8B,CAAC,CAAC,CACxHH,YAAY,CAAC,QAAQ,CAAC,CAAGC,KAAK,CAACC,OAAO,CAACC,OAAO,CAAC,kCAAkC,CAAE,KAAK,CAAE,8BAA8B,CAAC,CAAC,CAC1HH,YAAY,CAAC,QAAQ,CAAC,CAAGC,KAAK,CAACC,OAAO,CAACC,OAAO,CAAC,kCAAkC,CAAE,KAAK,CAAE,8BAA8B,CAAC,CAAC,CAC1HH,YAAY,CAAC,MAAM,CAAC,CAAGC,KAAK,CAACC,OAAO,CAACC,OAAO,CAAC,gCAAgC,CAAE,KAAK,CAAE,8BAA8B,CAAC,CAAC,CAEtH,8BACA,MAAO,SAAS,CAAAF,KAAKA,CAACG,GAAG,CAAE,CACzB,MAAO,CAAAA,GAAG,CAACC,IAAI,CAAC,CAAC,CAACC,GAAG,CAACF,GAAG,CAAC,CAC5B,CAEA,0BACA,MAAO,SAAS,CAAAG,IAAIA,CAACC,KAAK,CAAE,CAC1B,IAAAC,eAAA,CAAgCZ,KAAK,CAACa,QAAQ,CAAC,IAAI,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAA7CI,SAAS,CAAAF,gBAAA,IAAEG,UAAU,CAAAH,gBAAA,IAC5B,GAAM,CAAAI,MAAM,CAAGlB,KAAK,CAACmB,MAAM,CAAC,CAAC,CAE7BnB,KAAK,CAACoB,SAAS,CAAC,UAAM,CACpB,GAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,oBAAoB,CAAC,SAAAC,OAAO,CAAI,CACnDA,OAAO,CAACC,OAAO,CAAC,SAAAC,KAAK,QAAI,CAAAR,UAAU,CAACQ,KAAK,CAACC,cAAc,CAAC,GAAC,CAC5D,CAAC,CAAC,CAEF,GAAM,CAAAC,MAAM,CAAGT,MAAM,CAACU,OAAO,CAC7BP,QAAQ,CAACQ,OAAO,CAACF,MAAM,CAAC,CACxB,MAAO,kBAAM,CAAAN,QAAQ,CAACS,SAAS,CAACH,MAAM,CAAC,GACzC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEzB,IAAA,QACE6B,SAAS,CAAE,eAAe,EAAIf,SAAS,CAAG,YAAY,CAAG,EAAE,CAAE,CAC7DgB,GAAG,CAAEd,MAAO,CAAAe,QAAA,cAEZ/B,IAAA,QAAqBgC,GAAG,CAAEvB,KAAK,CAACwB,GAAI,CAACC,GAAG,CAAEzB,KAAK,CAACyB,GAAI,EAA1CzB,KAAK,CAACwB,GAAsC,CAAC,CACpD,CAAC,CAEV,CAEA,oCACA,cAAe,SAAS,CAAAE,OAAOA,CAAC1B,KAAK,CAAE,CACrC,GAAM,CAAA2B,MAAM,CAAGnC,YAAY,CAACQ,KAAK,CAAC4B,GAAG,CAAC,CAEtC,mBACErC,IAAA,QAAKsC,EAAE,CAAC,SAAS,CAAAP,QAAA,CAEbK,MAAM,CAAC7B,GAAG,CAAC,SAACgC,KAAK,CAAEC,KAAK,qBACtBxC,IAAA,CAACQ,IAAI,EAAa0B,GAAG,CAAEK,KAAM,EAAlBC,KAAoB,CAAC,EACjC,CAAC,CAED,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}